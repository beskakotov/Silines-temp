# Модуль - опрос датчиков температуры.

## Конфигурационный файл. 
> * Имя (полный путь) файла, куда записываются данные о температуре. На усмотрение, либо имя (полный путь) или два поля – каталог и имя файла.
> * Список какие датчики считываются (т.о. предусматриваем ситуацию, когда какой-то датчик может быть отключен – модуль его не проверяет и не считывает данные температуры). В случае, когда датчик есть в списке, но он не работает – нештатная ситуация и записывается критическая ошибка в журнале.
>> **???** Так же необходимо предусмотреть (если модуль не в режиме демона) сообщение об ошибке в виде окошка GUI.
> * Задание уровеня ведения журнала.

> Расположение основного конфигурационного файла - /usr/local/etc (штатное).

> Для тестов - каталог модуля (на усмотрение). В этом случае при старте модуль пытается читать файл в каталоге своего расположения, если файл отсутствует - в штатном каталоге.

> Информация о расположении конфигурационного файла пишется в журнал.

## Ведение журнала.
> Журнал ведется с возможностью (если это необходимо) настроить уровень сообщений.

> Основной уровень - вывод критических сообщений в журнал.

> Журнал выводиться в системный лог (критические ошибки) и в файл лога. Расположение файла – пример - ~/.speckle/имя модуля.

Информация о не работающем датчике: если датчик есть в списке, но не найден – считаем, что датчик не работает. Если датчик не отвечает во время опроса – датчик не работает (если такое возможно определить).

## GUI
Полноценный оконный интерфейс не обязателен и на усмотрение. (* в режиме демона, если таковой необходим, gui отсутствует полностью)

Модуль при старте и при работе может показывать окно сообщений (не модальное), если критическая ситуация – датчик отключился. Данное окно создается только один раз и может быть свернуто. Можно воспринимать это окно как окно сообщений программы. Если критическое сообщение и окно свернуто (или невидимо) - оно появляется.

## Настройка модуля.
При старте модуль проверяет наличие ключей запуска.

Предусмотреть как минимум два варианта запуска с ключами для настройки конфигурационного файла:

* запуск с выводом на консоль списка всех найденных датчиков. И далее списка их параметров, если таковые имеются.
* Запуск с автоматическим сохранением конфигурационного файла в каталог пользователя. A конфигурационный файл записываются все ID датчиков и все необходимые поля (настройки), прочитанные в загруженном конфигурационном файле. Если какие-то поля не установлены, поле записывается с пустыми параметрами для их последующего редактирования в ручном режиме. Путь к новому файлу конфигурации выводится на экран и в файл журнала.

## Общие Требования к модулю

Модуль должен быть протестирован:
* На величину потребления оперативной памяти. Отсутствие ее роста в процессе работы модуля (в среднем).
* На надежную работу в штатном и не штатном режиме в течении времени выполнения заданий (полноценное тестирование будет производиться так же во время тестирования всего комплекса).


